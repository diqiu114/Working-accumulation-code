## 内核种类

不可剥夺型内核 （Non-Preemptive Kernel）：

合作形式的任务调度方式，必须由任务主动放弃cup使用权，这种内核实时性差



在这种内核下，由于同一时间只有一个任务进行占用cpu，所以是支持不可重入函数调用，且不用信号量/互斥量保护

![image-20230607090648670](%E5%85%B3%E4%BA%8Eucosii%E7%9A%84%E4%B8%80%E4%BA%9B%E8%AE%B0%E5%BD%95.assets/image-20230607090648670.png)

此图说明中断不发生上下文切换，只是将高优先级任务放到就绪态，只有在任务主动放弃cpu使用权后才进行任务切换。



可剥夺形实时内核：

ucosii为可剥夺形实时内核



## 调度函数

OS_Sched()

产生调度，中断嵌套存在的情况下不进行调度



## 注意事项

1.  在系统函数OSStart（）之前开启全局中断，否则操作系统会崩溃。因为此时uCOS/II内部环境还没有完全初始化完成。

2. ucosii中没有自动的任务资源回收机制，如果任务函数执行完毕后，没有调用OSTaskDel进行Task销毁，会导致调度器产生错误的调度，引起hardfault

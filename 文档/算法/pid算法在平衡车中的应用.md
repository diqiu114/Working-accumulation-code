

这篇文章系统性的教如何做平衡车，以及详细说明了平衡车的各个要点，其中pid算法应用有较好的诠释，链接：

```
c.miaowlabs.com
```

他这里说是pid，但是是分开的，用的是串级pid，分为两个部分，外环为速度控制，并且其输出量作为内环控制：直立控制的输入。

1. 平衡车的直立控制

   使用了pd控制，为什么只使用pd控制？

2. 平衡车的速度控制

   使用了pi控制，为什么只使用pi控制？

上面两个问题，查阅chatgpt得知：直立控制要求的是：

```
平衡车的直立控制采用PD控制的主要原因是为了简化控制算法并提高系统的响应速度。

在平衡车的直立控制中，最基本的目标是使车辆保持直立状态，即使在外部扰动下也能快速恢复平衡。PD控制器在这种情况下已经能够提供相当好的性能，而且它的算法相对简单。

快速响应： PD控制器结合了比例和微分两个控制部分，可以快速响应系统的变化。微分部分帮助抑制系统震荡和过冲，而比例部分使系统快速对误差做出反应，从而更快地恢复平衡状态。

简化算法： PD控制相对于PID控制来说，省去了积分部分。积分部分在一些情况下可能导致系统不稳定或需要更复杂的参数调整。而在平衡车的直立控制中，消除积分部分可以简化算法，降低系统实现的复杂性。

较少的误差累积： 平衡车的直立控制要求快速反应，不希望误差在长时间内累积。PD控制器只考虑误差的当前值和变化率，而不会累积误差，有助于防止误差的持续积累。
```

而平衡车的直立控制为什么需要较少的误差累计理由是：

```
平衡车是一种通过自动控制保持直立状态的智能车辆。直立控制的目标是使车辆保持垂直姿态，即保持平衡状态。为了实现直立控制，需要监测车辆的倾斜角度，并根据倾斜角度的变化来调整车辆的控制输出。

如果直立控制中误差累计较多，意味着系统的响应速度较慢或误差在长时间内得不到有效修正。这可能导致以下问题：

稳定性问题： 直立控制是一种控制系统，其目标是保持系统在平衡点附近。如果误差长时间累积且没有及时纠正，车辆可能会逐渐偏离平衡点，导致失去平衡，甚至发生倾覆。

响应速度问题： 平衡车需要快速响应外部扰动，以保持直立状态。误差累计较多会导致系统响应速度变慢，降低了车辆的稳定性和控制性能。

精度问题： 直立控制需要精确地控制车辆的倾斜角度，以保持在目标平衡点附近。如果误差累计较多，会导致车辆无法准确地保持直立状态，影响控制精度。

为了避免这些问题，直立控制需要较少的误差累计，即时地对误差进行修正。这可以通过采用快速响应的控制算法（如PD控制器），以及适当的控制参数调整来实现。此外，直立控制还需要结合传感器数据的准确采集和滤波技术，以提供可靠的反馈信息，保证控制系统的稳定性和准确性。
```

